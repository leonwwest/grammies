<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Grammar Games ‚Äì Beispiel-Spiele ansehen</title>

  <link rel="stylesheet" href="shared.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
  <script src="language.js"></script>

  <style>
    /* ------- kompakte Vorschau-Styles (Game 1 & 2) ------- */
    .memory-card { grid-column: 1 / -1; }
    .memory-title { display:flex; align-items:center; gap:.5rem }
    .memory-sub { color:#566; margin:.4rem 0 1rem 0; }

    .strip-compact{
      display:flex;
      gap:16px;
      padding:10px 2px;
      border-radius:18px;
      background:linear-gradient(135deg,#dff0e1,#ebf3d8);
      box-shadow:inset 0 1px 0 rgba(255,255,255,.35);
      justify-content:center;     /* zentriert Inhalt */
      align-items:center;
      flex-wrap:wrap;              /* umbrechen auf kleinen Screens */
    }

    .img-plain{
      flex:0 0 auto;
      height:120px;               /* volle Bildh√∂he */
      width:auto;                 /* Seitenverh√§ltnis */
      border-radius:14px;
      background:transparent;     /* kein wei√üer Rand */
      box-shadow:0 8px 18px rgba(0,0,0,.10);
      display:block;
    }
  </style>
</head>
<body>
  <!-- Variant selector -->
  <div class="variant-selector">
    <a href="index.html?variant=A" class="variant-btn" data-translate="variantA">Variante A: 10-Min Games</a>
    <a href="index.html?variant=B" class="variant-btn" data-translate="variantB">Variante B: Multisensory Grammar</a>
  </div>

  <div class="screen">
    <div class="container">
      <div class="back-nav">
        <a href="#" onclick="navigateWithTracking('index.html','back-click'); return false;" class="back-btn" data-translate="backButton">‚Üê Zur√ºck</a>
      </div>

      <h2 data-translate="previewTitle">So funktionieren unsere Grammar Games</h2>
      <p class="subtitle" data-translate="previewSubtitle">Printable Karten mit einfachen Routinen f√ºr zu Hause</p>

      <!-- ===== GAME 1: Memory (Karte zu Karte) ===== -->
      <div class="card memory-card">
        <div class="card-title memory-title" data-translate="game1TitleMemory">üß† Memory: Karte zu Karte (Drag & Drop)</div>
        <p class="memory-sub" data-translate="game1SubtitleMemory">
          Ziehe passende Karten zusammen (z. B. <em>I</em> ‚Üî <em>ich</em>). Finde 6 Paare.
        </p>

        <!-- 2 Bild-Paare, zentriert -->
        <div class="strip-compact" style="margin-bottom:10px;">
          <!-- Paar 1: I ‚Üî ich -->
          <img class="img-plain" src="cards/german_I.png"   alt="I">
          <img class="img-plain" src="cards/german_ich.png" alt="ich">
          <span style="width:24px; height:1px; flex:0 0 24px;"></span>
          <!-- Paar 2: am ‚Üî bin -->
          <img class="img-plain" src="cards/german_am.png"  alt="am">
          <img class="img-plain" src="cards/german_bin.png" alt="bin">
        </div>

        <div style="text-align:center; margin-top:8px;">
          <a href="#"
             class="cta-button primary link-game1"
             onclick="navigateWithTracking('card-game.html','preview-game1-cta'); return false;"
             data-translate="playGame1Now">
            ‚ñ∂ Spiel 1 jetzt spielen
          </a>
        </div>
      </div>

      <!-- ===== GAME 2: Sorting into Slots (compact) ===== -->
      <div class="card memory-card">
        <div class="card-title memory-title" data-translate="game2TitleSort">üß© Sortieren: Karten in Felder (Drag & Drop)</div>
        <p class="memory-sub" data-translate="game2SubtitleSort">
          Ziehe passende Karten in die richtigen Felder (z. B. <em>I</em> ‚Üî <em>ich</em>). Baue 3 richtige Reihen.
        </p>

        <!-- Mini-Vorschau mit 2 Paaren -->
        <div class="strip-compact" style="margin-bottom:10px;">
          <img class="img-plain" src="cards/german_I.png"   alt="I">
          <img class="img-plain" src="cards/german_ich.png" alt="ich">
          <span style="width:24px;flex:0 0 24px;"></span>
          <img class="img-plain" src="cards/german_am.png"  alt="am">
          <img class="img-plain" src="cards/german_bin.png" alt="bin">
        </div>

        <div style="text-align:center; margin-top:8px;">
          <a href="#"
             class="cta-button primary link-game2"
             onclick="navigateWithTracking('sorting-game.html','preview-game2-cta'); return false;"
             data-translate="playGame2Now">
            ‚ñ∂ Spiel 2 jetzt spielen
          </a>
        </div>
      </div>

      <div style="text-align:center;">
        <a href="#"
           class="cta-button primary"
           onclick="navigateWithTracking('chooser.html','preview-to-chooser'); return false;"
           data-translate="suitableGames">
          Passende Spiele f√ºr mein Kind
        </a>
      </div>
    </div>
  </div>

  <!-- Fallback: wenn navigateWithTracking nicht existiert, einfache URL-Bildung -->
  <script>
    (function () {
      if (typeof window.navigateWithTracking === 'function') {
        // language.js translations refresh (optional)
        window.languageSystem?.updateDynamicContent?.();
        return;
      }

      // Fallback ‚Äì h√§ngt lang/variant an und navigiert
      window.navigateWithTracking = function (path, eventName) {
        try { window.analytics?.trackClick?.(eventName || 'nav'); } catch(e) {}
        const p = new URLSearchParams(location.search);
        const variant = (p.get('variant') || 'A').toUpperCase();
        const lang = (p.get('lang') || localStorage.getItem('grammarGamesLanguage') || 'de').toLowerCase();
        const url = new URL('/' + path.replace(/^\//,''), location.origin);
        url.searchParams.set('variant', variant);
        url.searchParams.set('lang', lang);
        location.href = url.toString();
      };

      window.languageSystem?.updateDynamicContent?.();
    })();
  </script>

  <script src="analytics.js"></script>
</body>
</html>
